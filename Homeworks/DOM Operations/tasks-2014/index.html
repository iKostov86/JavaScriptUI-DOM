<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DOM Operations</title>
    <style>
        html, body, div {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        #root {
            box-sizing: border-box;
            background: url("https://i.imgur.com/vR8w3xT.jpg");
            background-size: 100% 100%;
            border: 5px solid black;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script>
        var values = {
            ELLIPSE_RADIUS_X: 350,
            ELLIPSE_RADIUS_Y: 350
        };

        function createDivs(count) {
            var root = document.getElementById('root'),
                strong = document.createElement('strong');

            strong.innerHTML = 'div';

            for (var i = 0; i < count; i += 1) {
                var div = document.createElement('div');

                div.style.width = getRandomNumber(20, 100) + 'px';
                div.style.height = getRandomNumber(20, 100) + 'px';
                div.style.background = getRandomColor();
                div.style.border = getRandomNumber(1, 20) + 'px solid ' + getRandomColor();
                div.style.borderRadius = getRandomNumber(1, 25) + 'px';
                div.style.fontcolor = getRandomColor();
                div.style.position = 'absolute';
                div.style.left = div.getAttribute('borderWidth') + 'px';
                div.style.top = getRandomNumber(div.getAttribute('borderWidth'), window.innerHeight - div.getAttribute('height') - div.getAttribute('borderWidth')) + 'px';

//                div.style.left = getRandomNumber(div.getAttribute('borderWidth'), window.innerWidth - div.getAttribute('width') - div.getAttribute('borderWidth')) + 'px';
//                div.style.top = getRandomNumber(div.getAttribute('borderWidth'), window.innerHeight - div.getAttribute('height') - div.getAttribute('borderWidth')) + 'px';

                div.appendChild(strong.cloneNode(true));
                root.appendChild(div);
            }
        }

        function movesDivs(count) {
            var div = document.createElement('div'),
                angle = 0;

            div.style.width = '75px';
            div.style.height = '75px';
            div.style.background = getRandomColor();
            div.style.border = '5px solid black';
            div.style.position = 'absolute';
            div.className = 'moved';

            function animation() {
                var docFrag = document.createDocumentFragment();

                var rootChild = document.getElementsByClassName('moved');

                while (rootChild.length) {
                    root.removeChild(rootChild[0]);
                }

                for (var i = 0; i < count; i += 1) {
                    div.style.left = document.body.clientWidth / 2 + values.ELLIPSE_RADIUS_X * Math.cos(angle + 2 * Math.PI / count * i) + 'px';
                    div.style.top = document.body.clientHeight / 2 + values.ELLIPSE_RADIUS_Y * Math.sin(angle + 2 * Math.PI / count * i) + 'px';

                    docFrag.appendChild(div.cloneNode(true));
                }

                root.appendChild(docFrag);

                angle += 0.1;

                if (angle > 2 * Math.PI) {
                    angle = 0;
                }

//                setTimeout(animation, getRandomNumber(5, 55));
                requestAnimationFrame(animation);
            }

            function changeAttributes() {
                values.ELLIPSE_RADIUS_X = getRandomNumber(150, 450);
                values.ELLIPSE_RADIUS_Y = getRandomNumber(150, 450);

                div.style.width = getRandomNumber(45, 75) + 'px';
                div.style.height = getRandomNumber(45, 75) + 'px';
                div.style.background = getRandomColor();

                setTimeout(changeAttributes, getRandomNumber(500, 1500));
            }

            animation();
            changeAttributes();
        }

        function getRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min)) + min;
        }

        function getRandomColor() {
            const COLOR_STRING_LENGTH = 6;
            const HEXADECIMAL_BASE = 16;
            const HEXADECIMAL_SIGNS = '0123456789ABCDEF';

            var letters = HEXADECIMAL_SIGNS.split('');
            var color = '#';
            for (var i = 0; i < COLOR_STRING_LENGTH; i += 1) {
                color += letters[Math.floor(Math.random() * HEXADECIMAL_BASE)];
            }
            return color;
        }

        createDivs(5);
//        movesDivs(100);
    </script>
</body>
</html>